#写于20180610，距离2018腾讯广告算法大赛初赛结束已经20几天。
个人无组队参赛，首提交官方得分0.697（程序预测得分0.70x），调整思路后错过截止时间不能提交（程序预测得分0.76），没法得到官方的评分，错失进入复赛的机会，本人的遗憾。
止步于初赛，以下代码和简单思路分享，不喜也可喷，无兴趣直接关闭。

一、数据预处理
1、数据读取和写入文件，包含用户特征数据、广告特征数据。
--数据量过大，内存消耗大，参考网上资料对数值数据进行上转型、非数值数据as category.
--https://www.dataquest.io/blog/pandas-big-data/#
2、数据拼接，关联用户特征数据、广告特征数据，得到全量的初始化数据。

3、数据转换，离散特征独热编码，多取值特征稀疏向量化
--维度巨大。
--每个特征边处理边drop减少内存。
4、聚类后采样，实现训练数据正负样本样本均衡。

代码:ad_pre.py

二、数据测试和提交。

1、对平衡比例后的训练数据和测试数据再次完成拼接、转换。

2、模型训练和预测。

代码:ad_res.py

PS:
由于经费紧张，数据是在自费购买的阿里云服务器跑，几乎跑完就释放资源，一周下来消耗300RMB。
比赛过程另外的几个py简单分享：
sample.py: 功能函数:日志写入；上传ftp；邮件发送；pd内存消耗计算；
np_sample.py： 正负样本失衡问题，聚类生成几种正负比例的训练样本。
ad.py : 早期思路的py，对全量的数据处理后调参，保存调参模型。
ad_resall.py :不同于ad_res.py，数据处理后没有平衡样本，训练速度极慢。

