09:15:14: 
PROGRAM IS STARTTING!

09:16:36: 
userFeature	 spent-times:0:01:21.921267

09:16:36: raw_user_feature
0x7f1ebf744128

09:16:36: 
read raw_user_feature finished	 spent-times:0:00:00.000100

09:16:48: mem_usage(raw_user_feature)
11280.28 MB

09:16:48: raw_user_feature.dtypes
LBS                   float64
age                     int64
appIdAction            object
appIdInstall           object
carrier                 int64
consumptionAbility      int64
ct                     object
education               int64
gender                  int64
house                 float64
interest1              object
interest2              object
interest3              object
interest4              object
interest5              object
kw1                    object
kw2                    object
kw3                    object
marriageStatus         object
os                     object
topic1                 object
topic2                 object
topic3                 object
uid                     int64
dtype: object

09:17:28: 
LBS feature downcast as float

09:17:40: 
appIdAction feature downcast as category

09:17:48: 
appIdInstall feature downcast as category

09:18:03: 
ct feature downcast as category

09:18:55: 
house feature downcast as float

09:20:00: 
PROGRAM IS STARTTING!

09:21:11: 
userFeature	 spent-times:0:01:10.888533

09:21:11: raw_user_feature
0x7fb2946cffd0

09:21:11: 
read raw_user_feature finished	 spent-times:0:00:00.000057

09:21:23: mem_usage(raw_user_feature)
11280.28 MB

09:21:23: raw_user_feature.dtypes
LBS                   float64
age                     int64
appIdAction            object
appIdInstall           object
carrier                 int64
consumptionAbility      int64
ct                     object
education               int64
gender                  int64
house                 float64
interest1              object
interest2              object
interest3              object
interest4              object
interest5              object
kw1                    object
kw2                    object
kw3                    object
marriageStatus         object
os                     object
topic1                 object
topic2                 object
topic3                 object
uid                     int64
dtype: object

09:22:02: 
LBS feature downcast as float

09:22:14: 
appIdAction feature downcast as category

09:22:22: 
appIdInstall feature downcast as category

09:22:37: 
ct feature downcast as category

09:23:28: 
house feature downcast as float

09:24:04: 
interest2 feature downcast as category

09:24:15: 
interest3 feature downcast as category

09:24:26: 
interest4 feature downcast as category

09:25:36: 
kw3 feature downcast as category

09:25:51: 
marriageStatus feature downcast as category

09:26:05: 
os feature downcast as category

09:27:09: 
topic3 feature downcast as category

09:27:39: 
user_feature casttype is done!

09:27:44: mem_usage(user_feature)
7027.99 MB

09:27:44: user_feature.dtypes
LBS                    float64
age                      int64
appIdAction           category
appIdInstall          category
carrier                  int64
consumptionAbility       int64
ct                    category
education                int64
gender                   int64
house                  float64
interest1               object
interest2             category
interest3             category
interest4             category
interest5               object
kw1                     object
kw2                     object
kw3                   category
marriageStatus        category
os                    category
topic1                  object
topic2                  object
topic3                category
uid                      int64
dtype: object

09:27:44: mem_usage(raw_ad_feature)
0.01 MB

09:27:44: ad_featured.dtypes
Series([], dtype: object)

09:27:44: 
ad_feature casttype is done!

09:27:44: mem_usage(ad_feature)
0.01 MB

09:27:44: ad_featured.dtypes
aid             int64
advertiserId    int64
campaignId      int64
creativeId      int64
creativeSize    int64
adCategoryId    int64
productId       int64
productType     int64
dtype: object

09:27:53: 
chunk 1 done.

09:28:14: 
chunk 2 done.

09:28:39: 
chunk 3 done.

09:29:05: 
chunk 4 done.

09:29:34: 
chunk 5 done.

09:30:05: 
chunk 6 done.

09:30:38: 
chunk 7 done.

09:31:12: 
chunk 8 done.

09:31:48: 
chunk 9 done.

09:32:26: 
chunk 10 done.

09:33:06: 
chunk 11 done.

09:33:47: 
chunk 12 done.

09:34:30: 
chunk 13 done.

09:35:15: 
chunk 14 done.

09:36:20: 
PROGRAM IS STARTTING!

09:36:27: 
userFeature	 spent-times:0:00:07.170284

09:36:27: raw_user_feature
0x7f4fd273ec88

09:36:27: 
read raw_user_feature finished	 spent-times:0:00:00.000071

09:36:28: mem_usage(raw_user_feature)
987.99 MB

09:36:28: raw_user_feature.dtypes
LBS                   float64
age                     int64
appIdAction            object
appIdInstall           object
carrier                 int64
consumptionAbility      int64
ct                     object
education               int64
gender                  int64
house                 float64
interest1              object
interest2              object
interest3              object
interest4              object
interest5              object
kw1                    object
kw2                    object
kw3                    object
marriageStatus         object
os                     object
topic1                 object
topic2                 object
topic3                 object
uid                     int64
dtype: object

09:36:32: 
LBS feature downcast as float

09:36:33: 
appIdAction feature downcast as category

09:36:33: 
appIdInstall feature downcast as category

09:36:34: 
ct feature downcast as category

09:36:39: 
house feature downcast as float

09:36:42: 
interest2 feature downcast as category

09:36:43: 
interest3 feature downcast as category

09:36:44: 
interest4 feature downcast as category

09:36:50: 
kw3 feature downcast as category

09:36:51: 
marriageStatus feature downcast as category

09:36:53: 
os feature downcast as category

09:36:58: 
topic3 feature downcast as category

09:37:01: 
user_feature casttype is done!

09:37:01: mem_usage(user_feature)
618.55 MB

09:37:01: user_feature.dtypes
LBS                    float64
age                      int64
appIdAction           category
appIdInstall          category
carrier                  int64
consumptionAbility       int64
ct                    category
education                int64
gender                   int64
house                  float64
interest1               object
interest2             category
interest3             category
interest4             category
interest5               object
kw1                     object
kw2                     object
kw3                   category
marriageStatus        category
os                    category
topic1                  object
topic2                  object
topic3                category
uid                      int64
dtype: object

09:37:01: mem_usage(raw_ad_feature)
0.01 MB

09:37:01: ad_featured.dtypes
Series([], dtype: object)

09:37:01: 
ad_feature casttype is done!

09:37:01: mem_usage(ad_feature)
0.01 MB

09:37:01: ad_featured.dtypes
aid             int64
advertiserId    int64
campaignId      int64
creativeId      int64
creativeSize    int64
adCategoryId    int64
productId       int64
productType     int64
dtype: object

09:37:02: train_data
0x7f4fdfdee0b8

09:37:02: 
chunk 1 done.

09:37:02: 
train_data read finished	 spent-times:0:00:34.937880

09:37:03: 
chunk 1 done.

09:37:03: 
predict_data read finished	 spent-times:0:00:00.805452

09:37:03: mem_usage(train_data)
120.43 MB

09:37:03: mem_usage(predict_Data)
120.46 MB

09:37:03: train_data.dtypes
aid                      int64
uid                      int64
label                    int64
advertiserId             int64
campaignId               int64
creativeId               int64
creativeSize             int64
adCategoryId             int64
productId                int64
productType              int64
LBS                    float64
age                    float64
appIdAction           category
appIdInstall          category
carrier                float64
consumptionAbility     float64
ct                    category
education              float64
gender                 float64
house                  float64
interest1               object
interest2             category
interest3             category
interest4             category
interest5               object
kw1                     object
kw2                     object
kw3                   category
marriageStatus        category
os                    category
topic1                  object
topic2                  object
topic3                category
dtype: object

09:37:03: predict_data.dtypes
aid                      int64
uid                      int64
label                    int64
advertiserId             int64
campaignId               int64
creativeId               int64
creativeSize             int64
adCategoryId             int64
productId                int64
productType              int64
LBS                    float64
age                    float64
appIdAction           category
appIdInstall          category
carrier                float64
consumptionAbility     float64
ct                    category
education              float64
gender                 float64
house                  float64
interest1               object
interest2             category
interest3             category
interest4             category
interest5               object
kw1                     object
kw2                     object
kw3                   category
marriageStatus        category
os                    category
topic1                  object
topic2                  object
topic3                category
dtype: object

09:37:03: 
len_train_data 200000

09:37:03: 
len_predict_data 200000

09:37:03: 
train/predict ratio: 1.0

09:37:03: len_train_data_postive
9551

09:37:03: len_train_data_negative
190449

09:37:03: 
N/P ratio: 19.94021568422155

09:37:06: data fillna and merged!
邮件通知关闭

09:37:06: mem_usage(data)
381.83 MB

09:37:06: data dtypes
aid                      int64
uid                      int64
label                    int64
advertiserId             int64
campaignId               int64
creativeId               int64
creativeSize             int64
adCategoryId             int64
productId                int64
productType              int64
LBS                     object
age                     object
appIdAction           category
appIdInstall          category
carrier                 object
consumptionAbility      object
ct                    category
education               object
gender                  object
house                   object
interest1               object
interest2             category
interest3             category
interest4             category
interest5               object
kw1                     object
kw2                     object
kw3                   category
marriageStatus        category
os                    category
topic1                  object
topic2                  object
topic3                category
dtype: object

09:37:06: 
start gc.collect

09:37:06: 
stop gc.collect

09:37:06: 
LBS LabelEncoder apply int  

09:37:06: 
age LabelEncoder apply int  

09:37:07: 
carrier LabelEncoder apply int  

09:37:07: 
consumptionAbility LabelEncoder apply int  

09:37:07: 
education LabelEncoder apply int  

09:37:07: 
gender LabelEncoder apply int  

09:37:07: 
house LabelEncoder apply int  

09:37:07: 
os LabelEncoder apply int  

09:37:08: 
os LabelEncoder failed !

09:37:08: 
ct LabelEncoder apply int  

09:37:08: 
ct LabelEncoder failed !

09:37:08: 
marriageStatus LabelEncoder apply int  

09:37:08: 
marriageStatus LabelEncoder failed !

09:37:08: 
advertiserId LabelEncoder apply int  

09:37:08: 
campaignId LabelEncoder apply int  

09:37:08: 
creativeId LabelEncoder apply int  

09:37:09: 
adCategoryId LabelEncoder apply int  

09:37:09: 
productId LabelEncoder apply int  

09:37:09: 
productType LabelEncoder apply int  

09:37:09: 
LabelEncoder finished!

09:37:09: 
data set test split finished

09:37:09: 
data set train split finished

09:37:09: 
del data and free m

09:37:09: 
data set offline split finished

09:37:10: 
data set valid split finished

09:37:10: LBSenc.n_values_
[426]

09:37:10: 
LBS one-hot finished!

09:37:10: ageenc.n_values_
[7]

09:37:10: 
age one-hot finished!

09:37:10: carrierenc.n_values_
[5]

09:37:10: 
carrier one-hot finished!

09:37:10: consumptionAbilityenc.n_values_
[4]

09:37:10: 
consumptionAbility one-hot finished!

09:37:10: educationenc.n_values_
[9]

09:37:10: 
education one-hot finished!

09:37:10: genderenc.n_values_
[4]

09:37:10: 
gender one-hot finished!

09:37:10: houseenc.n_values_
[2]

09:37:10: 
house one-hot finished!

09:37:10: osenc.n_values_
[6]

09:37:10: 
os one-hot finished!

09:37:10: ctenc.n_values_
[65]

09:37:10: 
ct one-hot finished!

09:37:10: marriageStatusenc.n_values_
[20]

09:37:10: 
marriageStatus one-hot finished!

09:37:10: advertiserIdenc.n_values_
[79]

09:37:10: 
advertiserId one-hot finished!

09:37:10: campaignIdenc.n_values_
[138]

09:37:10: 
campaignId one-hot finished!

09:37:10: creativeIdenc.n_values_
[173]

09:37:10: 
creativeId one-hot finished!

09:37:10: adCategoryIdenc.n_values_
[40]

09:37:10: 
adCategoryId one-hot finished!

09:37:10: productIdenc.n_values_
[33]

09:37:10: 
productId one-hot finished!

09:37:10: productTypeenc.n_values_
[4]

09:37:11: 
productType one-hot finished!

09:37:11: 
one-hot prepared !

09:37:12: 
appIdAction CountVectorizer finished!

09:37:14: 
appIdInstall CountVectorizer finished!

09:37:16: 
interest1 CountVectorizer finished!

09:37:17: 
interest2 CountVectorizer finished!

09:37:19: 
interest3 CountVectorizer finished!

09:37:21: 
interest4 CountVectorizer finished!

09:37:23: 
interest5 CountVectorizer finished!

09:37:25: 
kw1 CountVectorizer finished!

09:37:26: 
kw2 CountVectorizer finished!

09:37:28: 
kw3 CountVectorizer finished!

09:37:30: 
topic1 CountVectorizer finished!

09:37:31: 
topic2 CountVectorizer finished!

09:37:33: 
topic3 CountVectorizer finished!

09:37:33: 
cv prepared !

09:37:33: 
train_x onehot_n_countvec_trans finished

09:37:33: LBSenc.n_values_
[426]

09:37:33: 
LBS one-hot finished!

09:37:33: ageenc.n_values_
[7]

09:37:33: 
age one-hot finished!

09:37:33: carrierenc.n_values_
[5]

09:37:33: 
carrier one-hot finished!

09:37:33: consumptionAbilityenc.n_values_
[4]

09:37:33: 
consumptionAbility one-hot finished!

09:37:33: educationenc.n_values_
[9]

09:37:33: 
education one-hot finished!

09:37:33: genderenc.n_values_
[4]

09:37:33: 
gender one-hot finished!

09:37:33: houseenc.n_values_
[2]

09:37:33: 
house one-hot finished!

09:37:33: osenc.n_values_
[6]

09:37:33: 
os one-hot finished!

09:37:33: ctenc.n_values_
[65]

09:37:33: 
ct one-hot finished!

09:37:33: marriageStatusenc.n_values_
[20]

09:37:33: 
marriageStatus one-hot finished!

09:37:33: advertiserIdenc.n_values_
[79]

09:37:34: 
advertiserId one-hot finished!

09:37:34: campaignIdenc.n_values_
[138]

09:37:34: 
campaignId one-hot finished!

09:37:34: creativeIdenc.n_values_
[173]

09:37:34: 
creativeId one-hot finished!

09:37:34: adCategoryIdenc.n_values_
[40]

09:37:34: 
adCategoryId one-hot finished!

09:37:34: productIdenc.n_values_
[33]

09:37:34: 
productId one-hot finished!

09:37:34: productTypeenc.n_values_
[4]

09:37:34: 
productType one-hot finished!

09:37:34: 
one-hot prepared !

09:37:35: 
appIdAction CountVectorizer finished!

09:37:36: 
appIdInstall CountVectorizer finished!

09:37:38: 
interest1 CountVectorizer finished!

09:37:39: 
interest2 CountVectorizer finished!

09:37:41: 
interest3 CountVectorizer finished!

09:37:42: 
interest4 CountVectorizer finished!

09:37:43: 
interest5 CountVectorizer finished!

09:37:45: 
kw1 CountVectorizer finished!

09:37:46: 
kw2 CountVectorizer finished!

09:37:48: 
kw3 CountVectorizer finished!

09:37:49: 
topic1 CountVectorizer finished!

09:37:50: 
topic2 CountVectorizer finished!

09:37:52: 
topic3 CountVectorizer finished!

09:37:52: 
cv prepared !

09:37:52: 
valid_x onehot_n_countvec_trans finished

09:37:52: LBSenc.n_values_
[426]

09:37:52: 
LBS one-hot finished!

09:37:52: ageenc.n_values_
[7]

09:37:52: 
age one-hot finished!

09:37:52: carrierenc.n_values_
[5]

09:37:52: 
carrier one-hot finished!

09:37:52: consumptionAbilityenc.n_values_
[4]

09:37:52: 
consumptionAbility one-hot finished!

09:37:52: educationenc.n_values_
[9]

09:37:52: 
education one-hot finished!

09:37:52: genderenc.n_values_
[4]

09:37:52: 
gender one-hot finished!

09:37:52: houseenc.n_values_
[2]

09:37:52: 
house one-hot finished!

09:37:52: osenc.n_values_
[6]

09:37:52: 
os one-hot finished!

09:37:52: ctenc.n_values_
[65]

09:37:52: 
ct one-hot finished!

09:37:52: marriageStatusenc.n_values_
[20]

09:37:52: 
marriageStatus one-hot finished!

09:37:52: advertiserIdenc.n_values_
[79]

09:37:52: 
advertiserId one-hot finished!

09:37:52: campaignIdenc.n_values_
[138]

09:37:53: 
campaignId one-hot finished!

09:37:53: creativeIdenc.n_values_
[173]

09:37:53: 
creativeId one-hot finished!

09:37:53: adCategoryIdenc.n_values_
[40]

09:37:53: 
adCategoryId one-hot finished!

09:37:53: productIdenc.n_values_
[33]

09:37:53: 
productId one-hot finished!

09:37:53: productTypeenc.n_values_
[4]

09:37:53: 
productType one-hot finished!

09:37:53: 
one-hot prepared !

09:37:55: 
appIdAction CountVectorizer finished!

09:37:57: 
appIdInstall CountVectorizer finished!

09:37:59: 
interest1 CountVectorizer finished!

09:38:01: 
interest2 CountVectorizer finished!

09:38:03: 
interest3 CountVectorizer finished!

09:38:04: 
interest4 CountVectorizer finished!

09:38:07: 
interest5 CountVectorizer finished!

09:38:09: 
kw1 CountVectorizer finished!

09:38:11: 
kw2 CountVectorizer finished!

09:38:13: 
kw3 CountVectorizer finished!

09:38:15: 
topic1 CountVectorizer finished!

09:38:17: 
topic2 CountVectorizer finished!

09:38:18: 
topic3 CountVectorizer finished!

09:38:18: 
cv prepared !

09:38:18: 
tets_x onehot_n_countvec_trans finished

09:38:18: LBSenc.n_values_
[426]

09:38:18: 
LBS one-hot finished!

09:38:18: ageenc.n_values_
[7]

09:38:18: 
age one-hot finished!

09:38:18: carrierenc.n_values_
[5]

09:38:18: 
carrier one-hot finished!

09:38:18: consumptionAbilityenc.n_values_
[4]

09:38:19: 
consumptionAbility one-hot finished!

09:38:19: educationenc.n_values_
[9]

09:38:19: 
education one-hot finished!

09:38:19: genderenc.n_values_
[4]

09:38:19: 
gender one-hot finished!

09:38:19: houseenc.n_values_
[2]

09:38:19: 
house one-hot finished!

09:38:19: osenc.n_values_
[6]

09:38:19: 
os one-hot finished!

09:38:19: ctenc.n_values_
[65]

09:38:19: 
ct one-hot finished!

09:38:19: marriageStatusenc.n_values_
[20]

09:38:19: 
marriageStatus one-hot finished!

09:38:19: advertiserIdenc.n_values_
[79]

09:38:19: 
advertiserId one-hot finished!

09:38:19: campaignIdenc.n_values_
[138]

09:38:19: 
campaignId one-hot finished!

09:38:19: creativeIdenc.n_values_
[173]

09:38:19: 
creativeId one-hot finished!

09:38:19: adCategoryIdenc.n_values_
[40]

09:38:19: 
adCategoryId one-hot finished!

09:38:19: productIdenc.n_values_
[33]

09:38:19: 
productId one-hot finished!

09:38:19: productTypeenc.n_values_
[4]

09:38:19: 
productType one-hot finished!

09:38:19: 
one-hot prepared !

09:38:20: 
appIdAction CountVectorizer finished!

09:38:22: 
appIdInstall CountVectorizer finished!

09:38:23: 
interest1 CountVectorizer finished!

09:38:25: 
interest2 CountVectorizer finished!

09:38:26: 
interest3 CountVectorizer finished!

09:38:27: 
interest4 CountVectorizer finished!

09:38:29: 
interest5 CountVectorizer finished!

09:38:30: 
kw1 CountVectorizer finished!

09:38:32: 
kw2 CountVectorizer finished!

09:38:33: 
kw3 CountVectorizer finished!

09:38:34: 
topic1 CountVectorizer finished!

09:38:36: 
topic2 CountVectorizer finished!

09:38:37: 
topic3 CountVectorizer finished!

09:38:37: 
cv prepared !

09:38:37: 
test_off_x onehot_n_countvec_trans finished

09:38:37: 
数据转换

09:38:37: 
设置参数

09:38:37: 
交叉验证

09:38:37: 
调参1：提高准确率

09:38:40: mean_auc_result_step1
0.5158723698747189

09:38:42: mean_auc_result_step1
0.5162129659786531

09:38:44: mean_auc_result_step1
0.5180419327555046

09:45:21: 
PROGRAM IS STARTTING!

09:46:36: 
userFeature	 spent-times:0:01:15.298699

09:46:36: raw_user_feature
0x7ff4a36fb198

09:46:36: 
read raw_user_feature finished	 spent-times:0:00:00.000079

09:46:49: mem_usage(raw_user_feature)
11280.28 MB

09:46:49: raw_user_feature.dtypes
LBS                   float64
age                     int64
appIdAction            object
appIdInstall           object
carrier                 int64
consumptionAbility      int64
ct                     object
education               int64
gender                  int64
house                 float64
interest1              object
interest2              object
interest3              object
interest4              object
interest5              object
kw1                    object
kw2                    object
kw3                    object
marriageStatus         object
os                     object
topic1                 object
topic2                 object
topic3                 object
uid                     int64
dtype: object

09:47:28: 
LBS feature downcast as float

09:47:40: 
appIdAction feature downcast as category

09:47:48: 
appIdInstall feature downcast as category

09:48:03: 
ct feature downcast as category

09:48:54: 
house feature downcast as float

09:49:31: 
interest2 feature downcast as category

09:49:41: 
interest3 feature downcast as category

09:49:52: 
interest4 feature downcast as category

09:51:02: 
kw3 feature downcast as category

09:51:17: 
marriageStatus feature downcast as category

09:51:31: 
os feature downcast as category

09:52:35: 
topic3 feature downcast as category

09:53:06: 
user_feature casttype is done!

09:53:11: mem_usage(user_feature)
7027.99 MB

09:53:11: user_feature.dtypes
LBS                    float64
age                      int64
appIdAction           category
appIdInstall          category
carrier                  int64
consumptionAbility       int64
ct                    category
education                int64
gender                   int64
house                  float64
interest1               object
interest2             category
interest3             category
interest4             category
interest5               object
kw1                     object
kw2                     object
kw3                   category
marriageStatus        category
os                    category
topic1                  object
topic2                  object
topic3                category
uid                      int64
dtype: object

09:53:11: mem_usage(raw_ad_feature)
0.01 MB

09:53:11: ad_featured.dtypes
Series([], dtype: object)

09:53:11: 
ad_feature casttype is done!

09:53:11: mem_usage(ad_feature)
0.01 MB

09:53:11: ad_featured.dtypes
aid             int64
advertiserId    int64
campaignId      int64
creativeId      int64
creativeSize    int64
adCategoryId    int64
productId       int64
productType     int64
dtype: object

09:53:21: 
chunk 1 done.

09:53:45: 
chunk 2 done.

09:54:11: 
chunk 3 done.

09:54:39: 
chunk 4 done.

09:55:09: 
chunk 5 done.

09:55:40: 
chunk 6 done.

09:56:13: 
chunk 7 done.

09:56:48: 
chunk 8 done.

09:57:25: 
chunk 9 done.

09:58:03: 
chunk 10 done.

09:58:44: 
chunk 11 done.

09:59:26: 
chunk 12 done.

10:00:10: 
chunk 13 done.

10:00:56: 
chunk 14 done.

10:01:43: 
chunk 15 done.

10:02:33: 
chunk 16 done.

10:03:25: 
chunk 17 done.

10:04:17: 
chunk 18 done.

10:04:17: 
train_data read finished	 spent-times:0:17:40.480962

10:04:30: 
chunk 1 done.

10:04:58: 
chunk 2 done.

10:05:27: 
chunk 3 done.

10:05:58: 
chunk 4 done.

10:06:28: 
chunk 5 done.

10:06:28: 
predict_data read finished	 spent-times:0:02:11.220326

10:06:40: mem_usage(train_data)
6180.65 MB

10:06:44: mem_usage(predict_Data)
1928.48 MB

10:06:44: train_data.dtypes
aid                      int64
uid                      int64
label                    int64
advertiserId             int64
campaignId               int64
creativeId               int64
creativeSize             int64
adCategoryId             int64
productId                int64
productType              int64
LBS                    float64
age                      int64
appIdAction           category
appIdInstall          category
carrier                  int64
consumptionAbility       int64
ct                    category
education                int64
gender                   int64
house                  float64
interest1               object
interest2             category
interest3             category
interest4             category
interest5               object
kw1                     object
kw2                     object
kw3                   category
marriageStatus        category
os                    category
topic1                  object
topic2                  object
topic3                category
dtype: object

10:06:44: predict_data.dtypes
aid                      int64
uid                      int64
label                    int64
advertiserId             int64
campaignId               int64
creativeId               int64
creativeSize             int64
adCategoryId             int64
productId                int64
productType              int64
LBS                    float64
age                      int64
appIdAction           category
appIdInstall          category
carrier                  int64
consumptionAbility       int64
ct                    category
education                int64
gender                   int64
house                  float64
interest1               object
interest2             category
interest3             category
interest4             category
interest5               object
kw1                     object
kw2                     object
kw3                   category
marriageStatus        category
os                    category
topic1                  object
topic2                  object
topic3                category
dtype: object

10:06:44: 
len_train_data 8798814

10:06:44: 
len_predict_data 2265989

10:06:44: 
train/predict ratio: 3.8829906058679016

10:07:07: len_train_data_postive
421961

10:07:07: len_train_data_negative
8376853

10:07:07: 
N/P ratio: 19.852197240977247

10:08:10: data fillna and merged!
邮件通知关闭

10:08:29: mem_usage(data)
8565.82 MB

10:08:29: data dtypes
aid                      int64
uid                      int64
label                    int64
advertiserId             int64
campaignId               int64
creativeId               int64
creativeSize             int64
adCategoryId             int64
productId                int64
productType              int64
LBS                     object
age                      int64
appIdAction           category
appIdInstall          category
carrier                  int64
consumptionAbility       int64
ct                    category
education                int64
gender                   int64
house                   object
interest1               object
interest2             category
interest3             category
interest4             category
interest5               object
kw1                     object
kw2                     object
kw3                   category
marriageStatus        category
os                    category
topic1                  object
topic2                  object
topic3                category
dtype: object

10:08:29: 
start gc.collect

10:08:29: 
stop gc.collect

10:08:29: 
LBS LabelEncoder apply int  

10:08:34: 
age LabelEncoder apply int  

10:08:39: 
carrier LabelEncoder apply int  

10:08:43: 
consumptionAbility LabelEncoder apply int  

10:08:47: 
education LabelEncoder apply int  

10:08:51: 
gender LabelEncoder apply int  

10:08:55: 
house LabelEncoder apply int  

10:09:01: 
os LabelEncoder apply int  

10:09:10: 
os LabelEncoder failed !

10:09:10: 
ct LabelEncoder apply int  

10:09:20: 
ct LabelEncoder failed !

10:09:20: 
marriageStatus LabelEncoder apply int  

10:09:29: 
marriageStatus LabelEncoder failed !

10:09:29: 
advertiserId LabelEncoder apply int  

10:09:34: 
campaignId LabelEncoder apply int  

10:09:40: 
creativeId LabelEncoder apply int  

10:09:45: 
adCategoryId LabelEncoder apply int  

10:09:50: 
productId LabelEncoder apply int  

10:09:55: 
productType LabelEncoder apply int  

10:09:59: 
LabelEncoder finished!

10:10:21: 
data set test split finished

10:10:26: 
data set train split finished

10:10:26: 
del data and free m

10:22:28: 
data set offline split finished

10:22:50: 
data set valid split finished

10:22:51: LBSenc.n_values_
[856]

10:22:52: 
LBS one-hot finished!

10:22:53: ageenc.n_values_
[6]

10:22:53: 
age one-hot finished!

10:22:54: carrierenc.n_values_
[4]

10:22:55: 
carrier one-hot finished!

10:22:56: consumptionAbilityenc.n_values_
[3]

10:22:56: 
consumptionAbility one-hot finished!

10:22:57: educationenc.n_values_
[8]

10:22:58: 
education one-hot finished!

10:22:59: genderenc.n_values_
[3]

10:23:00: 
gender one-hot finished!

10:23:01: houseenc.n_values_
[2]

10:23:02: 
house one-hot finished!

10:23:03: osenc.n_values_
[5]

10:23:04: 
os one-hot finished!

10:23:04: ctenc.n_values_
[65]

10:23:06: 
ct one-hot finished!

10:23:07: marriageStatusenc.n_values_
[26]

10:23:08: 
marriageStatus one-hot finished!

10:23:09: advertiserIdenc.n_values_
[79]

10:23:10: 
advertiserId one-hot finished!

10:23:11: campaignIdenc.n_values_
[138]

10:23:12: 
campaignId one-hot finished!

10:23:13: creativeIdenc.n_values_
[173]

10:23:15: 
creativeId one-hot finished!

10:23:16: adCategoryIdenc.n_values_
[40]

10:23:17: 
adCategoryId one-hot finished!

10:23:18: productIdenc.n_values_
[33]

10:23:29: 
productId one-hot finished!

10:23:30: productTypeenc.n_values_
[4]

10:23:34: 
productType one-hot finished!

10:23:34: 
one-hot prepared !

10:24:30: 
appIdAction CountVectorizer finished!

10:26:11: 
appIdInstall CountVectorizer finished!

10:30:23: 
interest1 CountVectorizer finished!

10:32:31: 
interest2 CountVectorizer finished!

10:33:29: 
interest3 CountVectorizer finished!

10:34:30: 
interest4 CountVectorizer finished!

10:40:14: 
interest5 CountVectorizer finished!

10:44:04: 
kw1 CountVectorizer finished!

10:48:09: 
kw2 CountVectorizer finished!

10:50:12: 
kw3 CountVectorizer finished!

10:54:14: 
topic1 CountVectorizer finished!

10:58:14: 
topic2 CountVectorizer finished!

11:00:17: 
topic3 CountVectorizer finished!

11:00:17: 
cv prepared !

11:00:17: 
train_x onehot_n_countvec_trans finished

11:00:20: LBSenc.n_values_
[856]

11:00:21: 
LBS one-hot finished!

11:00:25: ageenc.n_values_
[6]

11:00:25: 
age one-hot finished!

11:00:28: carrierenc.n_values_
[4]

11:00:28: 
carrier one-hot finished!

11:00:29: consumptionAbilityenc.n_values_
[3]

11:00:30: 
consumptionAbility one-hot finished!

11:00:31: educationenc.n_values_
[8]

11:00:32: 
education one-hot finished!

11:00:32: genderenc.n_values_
[3]

11:00:33: 
gender one-hot finished!

11:00:34: houseenc.n_values_
[2]

11:00:35: 
house one-hot finished!

11:00:36: osenc.n_values_
[5]

11:00:37: 
os one-hot finished!

11:00:37: ctenc.n_values_
[65]

11:00:38: 
ct one-hot finished!

11:00:39: marriageStatusenc.n_values_
[26]

11:00:40: 
marriageStatus one-hot finished!

11:00:42: advertiserIdenc.n_values_
[79]

11:00:43: 
advertiserId one-hot finished!

11:00:45: campaignIdenc.n_values_
[138]

11:00:46: 
campaignId one-hot finished!

11:00:48: creativeIdenc.n_values_
[173]

11:00:49: 
creativeId one-hot finished!

11:00:51: adCategoryIdenc.n_values_
[40]

11:00:52: 
adCategoryId one-hot finished!

11:00:55: productIdenc.n_values_
[33]

11:00:56: 
productId one-hot finished!

11:00:58: productTypeenc.n_values_
[4]

11:00:59: 
productType one-hot finished!

11:00:59: 
one-hot prepared !

11:01:43: 
appIdAction CountVectorizer finished!

11:02:57: 
appIdInstall CountVectorizer finished!

11:06:38: 
interest1 CountVectorizer finished!

11:07:57: 
interest2 CountVectorizer finished!

11:08:36: 
interest3 CountVectorizer finished!

11:09:14: 
interest4 CountVectorizer finished!

