00:24:27: 
userFeature	 spent-times:0:00:05.082860

00:24:27: raw_user_feature
0x2c7730f0

00:24:27: 
raw_user_feature	 spent-times:0:00:00.007507

00:24:27: raw_user_feature.dtypes
LBS                   float64
age                     int64
appIdAction            object
appIdInstall           object
carrier                 int64
consumptionAbility      int64
ct                     object
education               int64
gender                  int64
house                 float64
interest1              object
interest2              object
interest3              object
interest4              object
interest5              object
kw1                    object
kw2                    object
kw3                    object
marriageStatus         object
os                     object
topic1                 object
topic2                 object
topic3                 object
uid                     int64
dtype: object

00:24:27: raw_user_feature
0x2c7730f0

00:24:28: mem_usage(raw_user_feature)
540.81 MB

00:24:28: type dtype
<class 'numpy.dtype'>

00:24:28: feature is :
LBS

00:24:28: raw_user_feature.dtype
float64

00:24:29: mem_usage(raw_user_feature)_before
540.81 MB

00:24:30: mem_usage(raw_user_feature)_after
536.62 MB

00:24:30: mem_usage(user_feature)
4.20 MB

00:24:30: type dtype
<class 'numpy.dtype'>

00:24:30: feature is :
age

00:24:30: raw_user_feature.dtype
int64

00:24:31: mem_usage(raw_user_feature)_before
536.62 MB

00:24:33: mem_usage(raw_user_feature)_after
532.42 MB

00:24:33: mem_usage(user_feature)
8.39 MB

00:24:33: type dtype
<class 'numpy.dtype'>

00:24:33: feature is :
appIdAction

00:24:33: raw_user_feature.dtype
object

00:24:34: mem_usage(raw_user_feature)_before
532.42 MB

00:24:34: 
appIdAction as  category!

00:24:35: mem_usage(raw_user_feature)_after
515.05 MB

00:24:35: mem_usage(user_feature)
10.54 MB

00:24:35: type dtype
<class 'numpy.dtype'>

00:24:35: feature is :
appIdInstall

00:24:35: raw_user_feature.dtype
object

00:24:36: mem_usage(raw_user_feature)_before
515.05 MB

00:24:36: 
appIdInstall as  category!

00:24:37: mem_usage(raw_user_feature)_after
490.78 MB

00:24:37: mem_usage(user_feature)
19.71 MB

00:24:37: type dtype
<class 'numpy.dtype'>

00:24:37: feature is :
carrier

00:24:37: raw_user_feature.dtype
int64

00:24:38: mem_usage(raw_user_feature)_before
490.78 MB

00:24:39: mem_usage(raw_user_feature)_after
486.59 MB

00:24:39: mem_usage(user_feature)
23.91 MB

00:24:39: type dtype
<class 'numpy.dtype'>

00:24:39: feature is :
consumptionAbility

00:24:39: raw_user_feature.dtype
int64

00:24:40: mem_usage(raw_user_feature)_before
486.59 MB

00:24:41: mem_usage(raw_user_feature)_after
482.39 MB

00:24:41: mem_usage(user_feature)
28.11 MB

00:24:41: type dtype
<class 'numpy.dtype'>

00:24:41: feature is :
ct

00:24:41: raw_user_feature.dtype
object

00:24:42: mem_usage(raw_user_feature)_before
482.39 MB

00:24:42: 
ct as  category!

00:24:43: mem_usage(raw_user_feature)_after
450.40 MB

00:24:43: mem_usage(user_feature)
28.64 MB

00:24:43: type dtype
<class 'numpy.dtype'>

00:24:43: feature is :
education

00:24:43: raw_user_feature.dtype
int64

00:24:44: mem_usage(raw_user_feature)_before
450.40 MB

00:24:45: mem_usage(raw_user_feature)_after
446.21 MB

00:24:45: mem_usage(user_feature)
32.83 MB

00:24:45: type dtype
<class 'numpy.dtype'>

00:24:45: feature is :
gender

00:24:45: raw_user_feature.dtype
int64

00:24:46: mem_usage(raw_user_feature)_before
446.21 MB

00:24:47: mem_usage(raw_user_feature)_after
442.01 MB

00:24:47: mem_usage(user_feature)
37.03 MB

00:24:47: type dtype
<class 'numpy.dtype'>

00:24:47: feature is :
house

00:24:47: raw_user_feature.dtype
float64

00:24:48: mem_usage(raw_user_feature)_before
442.01 MB

00:24:49: mem_usage(raw_user_feature)_after
437.82 MB

00:24:49: mem_usage(user_feature)
41.23 MB

00:24:49: type dtype
<class 'numpy.dtype'>

00:24:49: feature is :
interest1

00:24:49: raw_user_feature.dtype
object

00:24:50: mem_usage(raw_user_feature)_before
437.82 MB

00:24:52: mem_usage(raw_user_feature)_after
388.49 MB

00:24:52: mem_usage(user_feature)
90.55 MB

00:24:52: type dtype
<class 'numpy.dtype'>

00:24:52: feature is :
interest2

00:24:52: raw_user_feature.dtype
object

00:24:53: mem_usage(raw_user_feature)_before
388.49 MB

00:24:53: 
interest2 as  category!

00:24:55: mem_usage(raw_user_feature)_after
357.98 MB

00:24:55: mem_usage(user_feature)
107.05 MB

00:24:55: type dtype
<class 'numpy.dtype'>

00:24:55: feature is :
interest3

00:24:55: raw_user_feature.dtype
object

00:24:56: mem_usage(raw_user_feature)_before
357.98 MB

00:24:56: 
interest3 as  category!

00:24:57: mem_usage(raw_user_feature)_after
340.65 MB

00:24:57: mem_usage(user_feature)
108.12 MB

00:24:57: type dtype
<class 'numpy.dtype'>

00:24:57: feature is :
interest4

00:24:57: raw_user_feature.dtype
object

00:24:58: mem_usage(raw_user_feature)_before
340.65 MB

00:24:58: 
interest4 as  category!

00:24:59: mem_usage(raw_user_feature)_after
323.60 MB

00:24:59: mem_usage(user_feature)
109.19 MB

00:24:59: type dtype
<class 'numpy.dtype'>

00:24:59: feature is :
interest5

00:24:59: raw_user_feature.dtype
object

00:25:00: mem_usage(raw_user_feature)_before
323.60 MB

00:25:01: mem_usage(raw_user_feature)_after
272.96 MB

00:25:01: mem_usage(user_feature)
159.83 MB

00:25:01: type dtype
<class 'numpy.dtype'>

00:25:01: feature is :
kw1

00:25:01: raw_user_feature.dtype
object

00:25:02: mem_usage(raw_user_feature)_before
272.96 MB

00:25:04: mem_usage(raw_user_feature)_after
229.25 MB

00:25:04: mem_usage(user_feature)
203.54 MB

00:25:04: type dtype
<class 'numpy.dtype'>

00:25:04: feature is :
kw2

00:25:04: raw_user_feature.dtype
object

00:25:05: mem_usage(raw_user_feature)_before
229.25 MB

00:25:07: mem_usage(raw_user_feature)_after
185.29 MB

00:25:07: mem_usage(user_feature)
247.50 MB

00:25:07: type dtype
<class 'numpy.dtype'>

00:25:07: feature is :
kw3

00:25:07: raw_user_feature.dtype
object

00:25:08: mem_usage(raw_user_feature)_before
185.29 MB

00:25:08: 
kw3 as  category!

00:25:09: mem_usage(raw_user_feature)_after
167.24 MB

00:25:09: mem_usage(user_feature)
250.97 MB

00:25:09: type dtype
<class 'numpy.dtype'>

00:25:09: feature is :
marriageStatus

00:25:09: raw_user_feature.dtype
object

00:25:10: mem_usage(raw_user_feature)_before
167.24 MB

00:25:10: 
marriageStatus as  category!

00:25:11: mem_usage(raw_user_feature)_after
135.91 MB

00:25:11: mem_usage(user_feature)
251.50 MB

00:25:11: type dtype
<class 'numpy.dtype'>

00:25:11: feature is :
os

00:25:11: raw_user_feature.dtype
object

00:25:11: mem_usage(raw_user_feature)_before
135.91 MB

00:25:11: 
os as  category!

00:25:12: mem_usage(raw_user_feature)_after
103.47 MB

00:25:13: mem_usage(user_feature)
252.02 MB

00:25:13: type dtype
<class 'numpy.dtype'>

00:25:13: feature is :
topic1

00:25:13: raw_user_feature.dtype
object

00:25:13: mem_usage(raw_user_feature)_before
103.47 MB

00:25:14: mem_usage(raw_user_feature)_after
63.32 MB

00:25:14: mem_usage(user_feature)
292.17 MB

00:25:14: type dtype
<class 'numpy.dtype'>

00:25:14: feature is :
topic2

00:25:14: raw_user_feature.dtype
object

00:25:14: mem_usage(raw_user_feature)_before
63.32 MB

00:25:16: mem_usage(raw_user_feature)_after
22.14 MB

00:25:16: mem_usage(user_feature)
333.35 MB

00:25:16: type dtype
<class 'numpy.dtype'>

00:25:16: feature is :
topic3

00:25:16: raw_user_feature.dtype
object

00:25:16: mem_usage(raw_user_feature)_before
22.14 MB

00:25:16: 
topic3 as  category!

00:25:17: mem_usage(raw_user_feature)_after
4.20 MB

00:25:17: mem_usage(user_feature)
336.88 MB

00:25:17: type dtype
<class 'numpy.dtype'>

00:25:17: feature is :
uid

00:25:17: raw_user_feature.dtype
int64

00:25:17: mem_usage(raw_user_feature)_before
4.20 MB

00:25:18: mem_usage(raw_user_feature)_after
0.00 MB

00:25:19: mem_usage(user_feature)
341.08 MB

00:25:19: mem_usage(user_feature)
341.08 MB

00:25:19: ad_feature
0x707fbb70

00:25:20: train_data
0x33439390

00:25:20: 
chunk 1 done.

00:25:22: train_data
0x33cdf400

00:25:22: 
chunk 2 done.

00:25:22: 
read_train_data	 spent-times:0:00:54.534628

00:25:22: 
chunk 1 done.

00:25:24: 
chunk 2 done.

00:25:28: 
data merged!

00:25:29: data mem id
0x33cdf208

00:25:29: mem_usage(data)_before_fill
99.24 MB

00:25:29: data dtypes
aid                      int64
uid                      int64
label                    int64
advertiserId             int64
campaignId               int64
creativeId               int64
creativeSize             int64
adCategoryId             int64
productId                int64
productType              int64
LBS                    float64
age                    float64
appIdAction           category
appIdInstall          category
carrier                float64
consumptionAbility     float64
ct                    category
education              float64
gender                 float64
house                  float64
interest1               object
interest2             category
interest3             category
interest4             category
interest5               object
kw1                     object
kw2                     object
kw3                   category
marriageStatus        category
os                    category
topic1                  object
topic2                  object
topic3                category
dtype: object

00:25:29: mem_usage(data)_after_fill
29.75 MB

00:25:29: 
start gc.collect

00:25:29: 
stop gc.collect

00:25:29: 
os one hot failed !

00:25:29: 
ct one hot failed !

00:25:29: 
marriageStatus one hot failed !

00:25:29: data
0x33cdf5f8

00:25:29: enc.n_values_
[263]

00:25:29: enc.n_values_
[5]

00:25:29: enc.n_values_
[4]

00:25:29: enc.n_values_
[3]

00:25:29: enc.n_values_
[7]

00:25:29: enc.n_values_
[2]

00:25:29: enc.n_values_
[1]

00:25:29: enc.n_values_
[5]

00:25:30: enc.n_values_
[42]

00:25:30: enc.n_values_
[13]

00:25:30: enc.n_values_
[72]

00:25:30: enc.n_values_
[123]

00:25:30: enc.n_values_
[153]

00:25:30: enc.n_values_
[38]

00:25:30: enc.n_values_
[31]

00:25:30: enc.n_values_
[4]

00:25:30: productType
one-hot prepared !

00:25:30: feature
cv prepared !

00:25:30: enc.n_values_
[263]

00:25:30: enc.n_values_
[5]

00:25:30: enc.n_values_
[4]

00:25:30: enc.n_values_
[3]

00:25:30: enc.n_values_
[7]

00:25:30: enc.n_values_
[2]

00:25:30: enc.n_values_
[1]

00:25:30: enc.n_values_
[5]

00:25:30: enc.n_values_
[42]

00:25:30: enc.n_values_
[13]

00:25:30: enc.n_values_
[72]

00:25:30: enc.n_values_
[123]

00:25:30: enc.n_values_
[153]

00:25:30: enc.n_values_
[38]

00:25:30: enc.n_values_
[31]

00:25:30: enc.n_values_
[4]

00:25:30: productType
one-hot prepared !

00:25:30: feature
cv prepared !

00:25:30: enc.n_values_
[263]

00:25:31: enc.n_values_
[5]

00:25:31: enc.n_values_
[4]

00:25:31: enc.n_values_
[3]

00:25:31: enc.n_values_
[7]

00:25:31: enc.n_values_
[2]

00:25:31: enc.n_values_
[1]

00:25:31: enc.n_values_
[5]

00:25:31: enc.n_values_
[42]

00:25:31: enc.n_values_
[13]

00:25:31: enc.n_values_
[72]

00:25:31: enc.n_values_
[123]

00:25:31: enc.n_values_
[153]

00:25:31: enc.n_values_
[38]

00:25:31: enc.n_values_
[31]

00:25:31: enc.n_values_
[4]

00:25:31: productType
one-hot prepared !

00:25:31: feature
cv prepared !

00:25:31: enc.n_values_
[263]

00:25:31: enc.n_values_
[5]

00:25:31: enc.n_values_
[4]

00:25:31: enc.n_values_
[3]

00:25:31: enc.n_values_
[7]

00:25:31: enc.n_values_
[2]

00:25:31: enc.n_values_
[1]

00:25:31: enc.n_values_
[5]

00:25:31: enc.n_values_
[42]

00:25:31: enc.n_values_
[13]

00:25:31: enc.n_values_
[72]

00:25:31: enc.n_values_
[123]

00:25:31: enc.n_values_
[153]

00:25:31: enc.n_values_
[38]

00:25:31: enc.n_values_
[31]

00:25:31: enc.n_values_
[4]

00:25:31: productType
one-hot prepared !

00:25:32: feature
cv prepared !

00:25:32: n_features_
16069

00:25:32: clf.best_score_
0.7659936479128857

00:25:32: clf.classes_
[0 1]

00:25:32: clf.best_iteration_
8

00:25:32: n_features_
16069

00:25:32: clf.best_score_
0.9764065335753176

00:25:32: clf.classes_
[0 1]

00:25:32: clf.best_iteration_
100

00:25:32: 
model_test is done!

